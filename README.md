# 启明-1 四连杆轮腿机器人 | Venus-1  Four-link wheel-legged robot

<img src=".\3.Docs & Pic\cover.jpg" alt="Real Robot"  />

## 0x00 声明&介绍

该项目为**个人本科毕业设计**，由于时间与个人能力不足，**存在设计缺陷**，请谨慎复刻。

项目遵循**GPL 3.0**协议，量产及商业使用需授权

> 演示视频合集
>[Venus轮腿机器人视频合集]: https://space.bilibili.com/21198864/lists/4193332?type=series
> 



**概况**

- 机械建模使用Soildworks2024 sp0.1绘制，使用请注意软件版本
- 基于STM32H723 HAL库开发，使用FreeRTOS进行任务管理
- 关节电机使用小米CyberGear微电机，轮电机使用DJI C610+M2006 P36
- 外壳及主要结构均使用3mm 3240环氧板（玻纤板），高强度
- 完全使用PID控制
- 机器人遥控使用FS-I6X 主控通过SBUS与接收机FS-IA6B通信
- 基本采用商业模块构件，拼装快速



------



### 机体测试

#### 重心自适应

<img src=".\3.Docs & Pic\最终测试插图\重心自适应new.jpg" alt="重心自适应new" style="zoom:25%;" />

#### 下落缓冲测试

<img src=".\3.Docs & Pic\最终测试插图\下落测试.jpg" alt="下落测试" style="zoom:35%;" />

#### 主动悬挂测试（Roll角自稳定）

<img src=".\3.Docs & Pic\最终测试插图\机体主动悬挂测试-左侧.jpg" alt="机体主动悬挂测试-左侧" style="zoom:25%;" />

<img src=".\3.Docs & Pic\最终测试插图\机体主动悬挂测试-前侧.jpg" alt="机体主动悬挂测试-前侧" style="zoom:25%;" />

#### 跳跃测试

<img src=".\3.Docs & Pic\最终测试插图\机体跳跃测试.jpg" alt="机体跳跃测试" style="zoom: 40%;" />



## 0x01 机械结构

主体结构使用3mm 3240环氧树脂板及六面四方螺母固定，电气仓3D打印制成

### 连杆设计

连杆由Pyslvs拟合后，在Soildworks中建模

> [Pyslvs官网]: https://pyslvs-ui.readthedocs.io/en/stable/

| <img src=".\3.Docs & Pic\机械部分插图\pyslvs.png" alt="pyslvs" style="zoom:50%;" /> | <img src=".\3.Docs & Pic\机械部分插图\pyslvs运动参数分析图片.png" alt="pyslvs运动参数分析图片" style="zoom: 80%;" /> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |



### 三维简图



<img src=".\3.Docs & Pic\机械部分插图\车体简图.bmp" style="zoom:50%;" />



|                          电器仓示意                          |                           截面视图                           |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
| <img src=".\3.Docs & Pic\机械部分插图\电气仓.bmp" style="zoom: 33%;" /> | <img src=".\3.Docs & Pic\机械部分插图\机体截面图.bmp" style="zoom: 33%;" /> |



## 0x02 电气连接

系统电源以及CAN总线通过中心分电板集合分配，下图为连接示意：

<img src=".\3.Docs & Pic\软硬件部分插图\连接图.png" alt="连接图"  />



使用到的中心分电板同样是之前顺便画的

>分电板开源链接
>[XT60/XT30分电板 | CAN Bus分线板]: https://oshwhub.com/marktracker/xt60-xt30-fen-dian-ban-can-fen-xian-ban
>
>

<img src=".\3.Docs & Pic\最终测试插图\分线板实物图.jpeg" alt="分线板实物图" style="zoom: 30%;" />



|                         实物装配图-1                         |                         实物装配图-2                         |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
| <img src=".\3.Docs & Pic\最终测试插图\最终测试插图.jpeg" alt="最终测试插图" style="zoom: 15%;" /> | <img src=".\3.Docs & Pic\最终测试插图\最终测试插图.jpg" alt="最终测试插图" style="zoom:15%;" /> |



## 0x03 软件架构

<img src=".\3.Docs & Pic\软硬件部分插图\软件层次图.png" alt="软件层次图" style="zoom:50%;" />

软件整体分为五大块，具体见完整程序工程



## 0x04 参考成本&已知缺陷报告

### 参考成本表格

| 物料名                                                       | 单价（RMB）   | 数量 | 总价（RMB）            |
| ------------------------------------------------------------ | ------------- | ---- | ---------------------- |
| CyberGear微电机                                              | 499           | 2    | 998                    |
| DJI M2006动力套装（C610+M2006 P36）                          | 159+275=434   | 2    | 868                    |
| 主控开发板 宇昌电子YCMC-H7A（STM32H723+ICM42688）/或改用达妙DM-MC02（STM32H723+BMI088 IMU型号不同，需重构） | 259(YCMC-H7A) | 1    | 259                    |
| 3240环氧板定制费用（由于经过多次修改，具体费用不明，这里给出大致参考价格） | 200           | 1    | 200                    |
| 轴承+螺栓螺母大致费用                                        | 40            | 1    | 40                     |
| 中心分电板（自制嘉立创免费打板）                             | 10            | 1    | 10                     |
| 连接用线束+接口                                              | 25            | 1    | 25                     |
| 24V35C航模锂电 TCB                                           | 176           | 1    | 176                    |
| 遥控富斯FS-I6X+接收机FS-IA6B(遥控可替换为PS2无线遥控，或者其他类) | 251+56=301    | 1    | 301                    |
|                                                              |               | 合计 | 2877（除去遥控为2576） |

上述均为全新价格，可以去二手平台买旧的，可以更便宜



### 已知缺陷

**由于机器人现已放于学校，故无法进一步改进，下面是测试过程中发现的一些问题用于参考**

- 选用的驱动轮电机M2006减速箱齿隙较大，导致整体机身会在平衡点高速抖动，难以改善，我选用这个完全是由于经济条件限制，用了之前的旧电机，推荐直接使用大扭矩的云台电机作为驱动轮电机
- CyberGear为单编码电机，每次重新上电需要重新标定机械零点，该机器人通过轮电机与主体底板的限制，通过监测关节电机扭矩变化来确定是否到达零点，没有添加额外的限位块
- 演示视频与建模使用的轮并不一致，实物使用聚氨酯包胶轮规格 直径90mm 轮胶面宽16mm 内径6mm ，实测连接不稳定，最好使用3D打印轮毂，自制包胶轮
- Yaw轴漂移未解决，使用的CyberGear电机概率出现初始化指令不接收，原因未知，电机群群友似乎也有这种情况
- 电器仓正面开的洞是为M2Dock准备的，用于目标识别和路径跟踪（最后没时间加了）













